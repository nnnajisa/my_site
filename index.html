<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Najisa's Universe</title>
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: #000;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            transition: background-color 1s ease;
        }

        /* 宇宙 Canvas 与 模糊滤镜 */
        #universe {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100vh;
            filter: blur(1.5px); 
            z-index: 1;
        }

        /* 背景呼吸动画 */
        .bg-container, .top-container {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100vh; pointer-events: none; z-index: 2;
        }
        .mesh-layer {
            position: absolute; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            transition: opacity 1s ease;
            animation: meshBreathe 12s infinite ease-in-out;
        }
        @keyframes meshBreathe { 
            0%, 100% { transform: scale(1.1); } 
            50% { transform: scale(1.2); } 
        }

        /* 1. 标题与副标题调整 */
        .header-content {
            position: absolute; top: 15vh; right: 8%;
            text-align: right; color: white; transition: color 1s ease; z-index: 5000;
        }
        .header-content h1 { 
            font-size: 160px; font-weight: 900; /* 极粗 */
            letter-spacing: -2px; margin: 0; line-height: 0.9; 
        }
        .header-content p { 
            font-size: 24px; font-weight: 400; 
            margin-top: 45px; /* 进一步下移 */
            letter-spacing: 5px; 
        }

        /* 2. 导航栏间距与独立 Hover */
        .nav-bar {
            position: absolute; top: 45vh; right: 8%;
            display: flex; gap: 80px; z-index: 5000;
        }
        .nav-item {
            text-decoration: none; color: white;
            font-size: 20px; font-weight: 600;
            letter-spacing: 6px; text-transform: uppercase;
            transition: transform 0.4s cubic-bezier(0.2, 1, 0.3, 1), letter-spacing 0.4s ease;
            display: inline-block;
        }
        .nav-item:hover { 
            letter-spacing: 12px; 
            transform: scale(1.15); 
        }

        /* 3. 眼睛灯黑科技：全方位轮廓加粗 */
        .eye-toggle {
            position: fixed; top: 0px; left: 45px;
            width: 110px; height: 45vh; z-index: 6000; cursor: pointer;
        }
        .layer-part {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: contain; background-repeat: no-repeat;
            transition: opacity 0.1s steps(1);
            /* 四个方向叠加投影，实现图片线条加粗 */
            filter: drop-shadow(1px 0px 0px currentColor) 
                    drop-shadow(-1px 0px 0px currentColor)
                    drop-shadow(0px 1px 0px currentColor)
                    drop-shadow(0px -1px 0px currentColor);
        }

        /* 4. 汉堡菜单位置 */
        .menu-btn {
            position: fixed; top: 65px; right: 50px;
            width: 30px; height: 18px; cursor: pointer; z-index: 7000;
            display: flex; flex-direction: column; justify-content: space-between;
        }
        .menu-line { width: 100%; height: 2px; background-color: white; border-radius: 10px; transition: 0.4s; }
        .menu-btn.active .line-1 { transform: translateY(8px) rotate(45deg); }
        .menu-btn.active .line-2 { transform: translateY(-8px) rotate(-45deg); }

        /* 模式切换 */
        .light-mode { background-color: #fff; }
        .light-mode .header-content h1, .light-mode .header-content p, .light-mode .nav-item { color: black; }
        .light-mode .menu-line { background-color: black; }
        .light-mode .layer-part { color: black; }

        /* 图片引用 */
        .dark-bg { background-image: url('images/bg-dark.png'); }
        .light-bg { background-image: url('images/bg-light.png'); }
        .top-dark { background-image: url('images/top-dark.png'); }
        .top-light { background-image: url('images/top-light.png'); }
        .eye-dark { background-image: url('images/eye-dark.png'); }
        .eye-light { background-image: url('images/eye-light.png'); }
        .line-dark { background-image: url('images/line-dark.png'); }
        .line-light { background-image: url('images/line-light.png'); }
        .han-dark { background-image: url('images/han-dark.png'); }
        .han-light { background-image: url('images/han-light.png'); }

        .eye-light, .line-light, .han-light, .light-bg, .top-light { opacity: 0; }
        .light-mode .eye-dark, .light-mode .line-dark, .light-mode .han-dark, .light-mode .dark-bg, .light-mode .top-dark { opacity: 0; }
        .light-mode .eye-light, .light-mode .line-light, .light-mode .han-light, .light-mode .light-bg, .light-mode .top-light { opacity: 1; }
    </style>
</head>
<body>

    <div class="menu-btn" id="menuBtn"><div class="menu-line line-1"></div><div class="menu-line line-2"></div></div>

    <div class="eye-toggle" id="modeBtn">
        <div class="layer-part eye-dark"></div><div class="layer-part eye-light"></div>
        <div class="line-group" id="lineG"><div class="layer-part line-dark"></div><div class="layer-part line-light"></div></div>
        <div class="han-group" id="hanG"><div class="layer-part han-dark"></div><div class="layer-part han-light"></div></div>
    </div>

    <div class="header-content"><h1>Hi! I'm Najisa</h1><p>Digital Creator / Web Developer</p></div>

    <nav class="nav-bar">
        <a href="#works" class="nav-item">Works</a>
        <a href="#about" class="nav-item">About</a>
        <a href="#contact" class="nav-item">Contact</a>
    </nav>

    <div class="bg-container"><div class="mesh-layer dark-bg"></div><div class="mesh-layer light-bg"></div></div>
    <canvas id="universe"></canvas>
    <div class="top-container"><div class="top-layer top-dark"></div><div class="top-layer top-light"></div></div>

    <script>
        const canvas = document.getElementById('universe');
        const ctx = canvas.getContext('2d');
        const modeBtn = document.getElementById('modeBtn');
        const menuBtn = document.getElementById('menuBtn');
        let isLightMode = false, colorTransition = 0;

        menuBtn.onclick = () => menuBtn.classList.toggle('active');
        modeBtn.onclick = () => { document.body.classList.toggle('light-mode'); isLightMode = !isLightMode; };

        const config = { starCount: 45, particleCount: 45000, baseSize: 40, longAxisRatio: 2.2, sharpness: 0.45, friction: 0.94, ease: 0.06 };
        let v = { x: 0, y: 0, tx: 0, ty: 0 }, lastM = { x: 0, y: 0 }, stars = [], motherCache = { dark: [], light: [] };

        function createMother(color, blurStr) {
            const mCanvas = document.createElement('canvas');
            const w = config.baseSize * 5, h = w * config.longAxisRatio;
            mCanvas.width = w; mCanvas.height = h;
            const mctx = mCanvas.getContext('2d');
            if (blurStr !== '0px') mctx.filter = `blur(${blurStr})`;
            mctx.fillStyle = color;
            for (let i = 0; i < config.particleCount; i++) {
                const rx = (Math.random() - 0.5) * config.baseSize * 4;
                const ry = (Math.random() - 0.5) * config.baseSize * config.longAxisRatio * 2;
                const nx = Math.abs(rx) / config.baseSize, ny = Math.abs(ry) / (config.baseSize * config.longAxisRatio);
                const dist = Math.pow(nx, config.sharpness) + Math.pow(ny, config.sharpness);
                if (dist < 0.8 || (dist < 1.6 && Math.random() < Math.pow(1 - (dist - 0.8) / 0.8, 8))) {
                    let pSize = 0.3 + 1.9 * Math.pow(Math.max(0, 1 - dist/1.6), 2);
                    mctx.fillRect(w/2 + rx, h/2 + ry, pSize, pSize);
                }
            }
            return mCanvas;
        }

        class Star {
            constructor() { this.reset(); this.age = Math.random() * 8000; }
            reset() {
                this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
                const r = Math.random();
                if (r > 0.8) { this.idx = 0; this.sc = 0.45; }
                else if (r > 0.4) { this.idx = 1; this.sc = 0.28; }
                else { this.idx = 2; this.sc = 0.15; }
                this.life = 10000 + Math.random() * 10000; this.age = 0;
            }
            update() { this.age += 16.6; if (this.age >= this.life) this.reset(); }
            draw(ox, oy, trans) {
                const weight = (2.5 - this.idx);
                const dx = this.x - (config.baseSize*5)/2 + (ox * weight);
                const dy = this.y - (config.baseSize*5*2.2)/2 + (oy * weight);
                const op = this.age < 2500 ? this.age/2500 : (this.age > this.life-2500 ? (this.life-this.age)/2500 : 1);
                ctx.globalAlpha = Math.max(0, op * (1 - trans));
                ctx.drawImage(motherCache.dark[this.idx], dx, dy);
                ctx.globalAlpha = Math.max(0, op * trans);
                ctx.drawImage(motherCache.light[this.idx], dx, dy);
            }
        }

        function init() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            motherCache.dark = ['0px', '0.6px', '1.8px'].map(b => createMother("white", b));
            motherCache.light = ['0px', '0.6px', '1.8px'].map(b => createMother("black", b));
            stars = Array.from({ length: config.starCount }, () => new Star());
        }

        function loop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            v.tx *= config.friction; v.ty *= config.friction;
            v.x += (v.tx - v.x) * config.ease; v.y += (v.ty - v.y) * config.ease;
            colorTransition = isLightMode ? Math.min(1, colorTransition + 0.02) : Math.max(0, colorTransition - 0.02);
            stars.forEach(s => { s.update(); s.draw(v.x, v.y, colorTransition); });
            requestAnimationFrame(loop);
        }

        window.onmousemove = (e) => {
            if (lastM.x !== 0) { v.tx += (e.clientX - lastM.x) * 0.5; v.ty += (e.clientY - lastM.y) * 0.5; }
            lastM.x = e.clientX; lastM.y = e.clientY;
        };
        window.onresize = init; init(); loop();
    </script>
</body>
</html>
